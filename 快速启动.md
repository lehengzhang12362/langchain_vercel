# 🚀 快速启动指南

## 项目已迁移到 Vercel 部署!

本项目已从 **Docker Compose** 部署方式迁移到 **Vercel + 云服务** 部署架构。

## 新部署架构总览

```
Vercel (Next.js)  ────►  Railway/Render (Python FastAPI)
   │                           │
   ├─ Web 前端界面             └─ LangChain 翻译引擎
   └─ API Routes 网关
```

## 🎯 部署到生产环境 (推荐)

### 方式一：完整部署 (3步)

#### 1️⃣ 部署 Python 服务

选择以下任一平台部署 Python 服务:
- **Railway** (推荐): https://railway.app/
- **Render**: https://render.com/
- **Fly.io**: https://fly.io/

详细步骤: [后端服务部署指南](./DEPLOY_BACKEND.md)

#### 2️⃣ 部署 Next.js 到 Vercel

1. 访问 https://vercel.com/
2. 导入你的 Git 仓库
3. 配置环境变量: `PYTHON_SERVICE_URL`
4. 点击部署

详细步骤: [Vercel 部署指南](./DEPLOY_VERCEL.md)

#### 3️⃣ 访问你的应用

部署完成后，Vercel 会提供一个 URL，例如:
`https://your-app.vercel.app`

---

## 💻 本地开发 (快速开始)

### 方式二：本地开发测试 (2步)

#### 1️⃣ 启动 Python 服务

```bash
cd python-service
pip install -r requirements.txt

# 配置环境变量
export OPENAI_API_KEY="your-api-key"
export OPENAI_BASE_URL="https://yunwu.ai/v1"

# 启动服务
python app.py
# ✅ Python 服务运行在 http://localhost:8000
```

#### 2️⃣ 启动 Next.js 服务

```bash
cd nextjs-service
npm install

# 确认 .env.local 文件配置正确
# PYTHON_SERVICE_URL=http://localhost:8000

# 启动开发服务器
npm run dev
# ✅ Next.js 运行在 http://localhost:3000
```

### 3️⃣ 访问应用

打开浏览器访问: **http://localhost:3000**

---

## 📋 部署架构变更对比

| 方面 | 之前 (Docker) | 现在 (Vercel) |
|------|--------------|--------------|
| **部署方式** | Docker Compose | Vercel + Railway/Render |
| **部署复杂度** | 需要服务器 + Docker | 一键部署 |
| **CI/CD** | 手动配置 | 自动部署 |
| **HTTPS** | 需要配置证书 | 自动 HTTPS |
| **CDN** | 需要额外配置 | 全球 CDN |
| **成本** | 服务器费用 | 免费层足够 |
| **启动速度** | ~30秒 | ~5秒 |

## 🎉 新增优势

- ✅ 零配置部署到 Vercel
- ✅ 自动 CI/CD (Git push 即部署)
- ✅ 全球 CDN 加速
- ✅ 自动 HTTPS 证书
- ✅ 预览部署 (每个 PR 独立预览环境)
- ✅ 更低的部署成本
- ✅ 更快的启动速度

## 📁 主要文件

| 文件 | 路径 | 说明 |
|------|------|------|
| **Vercel 配置** | `vercel.json` | Vercel 部署配置 |
| **主页面** | `nextjs-service/app/page.js` | React 主页面 |
| **翻译 API** | `nextjs-service/app/api/translate/route.js` | 翻译接口 |
| **环境变量示例** | `nextjs-service/.env.example` | 环境变量模板 |
| **部署指南** | `DEPLOY_VERCEL.md` | 详细部署文档 |

## 🔧 常用命令

### 本地开发
```bash
# 安装依赖
cd nextjs-service && npm install

# 开发模式
npm run dev

# 构建生产版本
npm run build

# 启动生产版本
npm start
```

### Vercel CLI (可选)
```bash
# 安装 CLI
npm i -g vercel

# 登录
vercel login

# 本地预览
vercel dev

# 部署到生产环境
vercel --prod
```

## 🌐 环境变量配置

### Next.js 服务
在 Vercel 项目设置或 `.env.local` 中配置:
```bash
PYTHON_SERVICE_URL=https://your-python-service.railway.app
```

### Python 服务
在 Railway/Render 中配置:
```bash
OPENAI_API_KEY=your-api-key
OPENAI_BASE_URL=https://yunwu.ai/v1
PORT=8000
```

## 📚 详细文档

- **Vercel 部署指南**: [DEPLOY_VERCEL.md](./DEPLOY_VERCEL.md)
- **后端服务部署**: [DEPLOY_BACKEND.md](./DEPLOY_BACKEND.md)
- **主文档**: [README.md](./README.md)

## 🆘 需要帮助?

### 部署问题
- 查看 Vercel 部署日志
- 检查环境变量配置
- 参考 [DEPLOY_VERCEL.md](./DEPLOY_VERCEL.md)

### 本地开发问题
- 确认 Python 服务在 8000 端口运行
- 检查 `.env.local` 文件配置
- 查看终端错误日志

## 🚀 下一步建议

1. ✅ 完成 Vercel 部署
2. ✅ 测试翻译功能
3. 🔄 配置自定义域名
4. 📊 集成 Vercel Analytics
5. 🔐 添加用户认证
6. 💾 添加 Redis 缓存
7. 📝 添加翻译历史记录

祝开发愉快! 🎉
